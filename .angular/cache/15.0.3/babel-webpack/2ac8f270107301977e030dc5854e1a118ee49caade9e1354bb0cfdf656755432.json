{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nmport;\n{}\nfrom;\n'src/app/models/reg';\n//import { UserService } from 'src/app/services/user.service';\nlet FormRegisterComponent = class FormRegisterComponent {\n  constructor(fb, _usuarioService, router, aRoute) {\n    this.fb = fb;\n    this._usuarioService = _usuarioService;\n    this.router = router;\n    this.aRoute = aRoute;\n    this.titulo = 'REGISTRATE';\n    this.usuarioForm = this.fb.group({\n      nombre: ['', Validators.required],\n      apellido: ['', Validators.required],\n      telefono: ['', Validators.required],\n      direccion: ['', Validators.required],\n      genero: ['', Validators.required],\n      email: ['', Validators.required],\n      contrasena: ['', Validators.required],\n      confcontrasena: ['', Validators.required]\n    });\n    this.id = this.aRoute.snapshot.paramMap.get('id');\n  }\n  ngOnInit() {\n    this.esEditar();\n  }\n  agregarUsuario() {\n    console.log(this.usuarioForm);\n    const USUARIO = {\n      nombre: this.usuarioForm.get('nombre')?.value,\n      apellido: this.usuarioForm.get('apellido')?.value,\n      telefono: this.usuarioForm.get('telefono')?.value,\n      direccion: this.usuarioForm.get('direccion')?.value,\n      genero: this.usuarioForm.get('genero')?.value,\n      email: this.usuarioForm.get('email')?.value,\n      contrasena: this.usuarioForm.get('contrasena')?.value,\n      confcontrasena: this.usuarioForm.get('confcontrasena')?.value\n    };\n    if (USUARIO.contrasena !== USUARIO.confcontrasena) {\n      alert('Las contraseñas deben coincidir');\n    } else if (this.id !== null) {\n      this._usuarioService.editarUsuario(this.id, USUARIO).subscribe(data => {\n        console.log('Actualizadito');\n        this.router.navigate(['/']);\n      }, error => {\n        console.log('Error');\n        this.usuarioForm.reset();\n      });\n    } else {\n      console.log(USUARIO);\n      this._usuarioService.guardarUsuario(USUARIO).subscribe(data => {\n        // ustedes usan toastr\n        console.log('Guardadito');\n        this.router.navigate(['/']);\n      }, error => {\n        console.log('Error');\n        this.usuarioForm.reset();\n      });\n    }\n  }\n  esEditar() {\n    if (this.id !== null) {\n      this.titulo = \"Editar Usuario\";\n      this._usuarioService.obtenerUsuario(this.id).subscribe(data => {\n        this.usuarioForm.setValue({\n          nombre: data.nombre,\n          apellido: data.apellido,\n          telefono: data.telefono,\n          direccion: data.direccion,\n          genero: data.genero,\n          email: data.email,\n          contrasena: data.contrasena,\n          confcontrasena: data.confcontrasena\n        });\n      });\n    }\n  }\n};\nFormRegisterComponent = __decorate([Component({\n  selector: 'app-form-register',\n  templateUrl: './form-register.component.html',\n  styleUrls: ['./form-register.component.css']\n})], FormRegisterComponent);\nexport { FormRegisterComponent };","map":{"version":3,"mappings":"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","names":["Component","Validators","mport","from","FormRegisterComponent","constructor","fb","_usuarioService","router","aRoute","usuarioForm","group","nombre","required","apellido","telefono","direccion","genero","email","contrasena","confcontrasena","id","snapshot","paramMap","get","ngOnInit","esEditar","agregarUsuario","console","log","USUARIO","value","alert","editarUsuario","subscribe","data","navigate","error","reset","guardarUsuario","titulo","obtenerUsuario","setValue","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Juan Carlos Prasca\\Desktop\\ProjectoStileyStore\\FEStileyStore\\src\\app\\components\\sign-up\\form-register\\form-register.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms'\nimport { ActivatedRoute, Router } from '@angular/router';\nmport {  } from 'src/app/models/reg';\n//import { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-form-register',\n  templateUrl: './form-register.component.html',\n  styleUrls: ['./form-register.component.css']\n})\nexport class FormRegisterComponent implements OnInit{\n\n  usuarioForm : FormGroup;\n  titulo = 'REGISTRATE';\n  id: string | null;\n  constructor(private fb:FormBuilder,\n              private _usuarioService: UserService,\n              private router : Router,\n              private aRoute : ActivatedRoute){\n    this.usuarioForm = this.fb.group({\n      nombre : ['', Validators.required],\n      apellido : ['', Validators.required],\n      telefono : ['', Validators.required],\n      direccion : ['', Validators.required],\n      genero : ['', Validators.required],\n      email : ['', Validators.required],\n      contrasena : ['', Validators.required],\n      confcontrasena : ['', Validators.required],\n    })\n    this.id = this.aRoute.snapshot.paramMap.get('id');\n  }\n\n  ngOnInit(): void {\n    this.esEditar();\n  }\n\n  agregarUsuario(){\n    console.log(this.usuarioForm);\n\n    const USUARIO : Usuario = {\n      nombre : this.usuarioForm.get('nombre')?.value,\n      apellido : this.usuarioForm.get('apellido')?.value,\n      telefono : this.usuarioForm.get('telefono')?.value,\n      direccion : this.usuarioForm.get('direccion')?.value,\n      genero : this.usuarioForm.get('genero')?.value,\n      email : this.usuarioForm.get('email')?.value,\n      contrasena : this.usuarioForm.get('contrasena')?.value,\n      confcontrasena : this.usuarioForm.get('confcontrasena')?.value\n    }\n    if(USUARIO.contrasena !== USUARIO.confcontrasena){\n      alert('Las contraseñas deben coincidir');\n    }\n    else if(this.id !== null)\n    {\n      this._usuarioService.editarUsuario(this.id, USUARIO).subscribe(data =>{\n        console.log('Actualizadito');\n        this.router.navigate(['/']);\n      },error =>{\n        console.log('Error');\n        this.usuarioForm.reset();\n      })\n    }else\n    {\n      console.log(USUARIO);\n      this._usuarioService.guardarUsuario(USUARIO).subscribe(data =>{\n        // ustedes usan toastr\n        console.log('Guardadito');\n        this.router.navigate(['/']);\n      },error =>{\n        console.log('Error');\n        this.usuarioForm.reset();\n      })\n    }\n  }\n\n  esEditar(){\n    if(this.id !== null)\n    {\n      this.titulo = \"Editar Usuario\";\n      this._usuarioService.obtenerUsuario(this.id).subscribe( data =>{\n        this.usuarioForm.setValue({\n          nombre : data.nombre,\n          apellido : data.apellido,\n          telefono : data.telefono,\n          direccion : data.direccion,\n          genero : data.genero,\n          email : data.email,\n          contrasena : data.contrasena,\n          confcontrasena : data.confcontrasena,\n        })\n      })\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}